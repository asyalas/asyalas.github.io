webpackJsonp([4],{tvOa:function(s,e){s.exports={title:"title",primary:"primary","bg-primary":"bg-primary",green:"green",yellow:"yellow","light-yellow":"light-yellow","placeholder-text":"placeholder-text","bg-yellow":"bg-yellow",red:"red","bg-red":"bg-red",right:"right",center:"center","space-between":"space-between",container:"container","modal-wrap":"modal-wrap","modal-title":"modal-title",input:"input",button:"button","media-wrap":"media-wrap"}},wWXW:function(s,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=r("nvbp"),n=r.n(t),a=r("Dd8w"),i=r.n(a),o=r("7+uW"),l=r("i1rO"),w=r("iO/v"),h=o.default.component("sunmi-passwordModal",{props:{cancleHandler:{type:Function,default:function(){}}},data:function(){return{surepassword:"",newpassword:"",password:"",btn:!1,isSureErr:!1,isNewErr:!1,isErr:!1,newErrMsg:this.$t("personalCenter.enterPasswordErr"),loading:!1}},methods:{pswChange:function(){this.newpassword&&this.newPswChange()},newPswChange:function(){var s=!this.newpassword.match(/(?!^(\d+|[a-z]+|[A-Z]+|[~!`.@#$%^&*?\(\)\+\-\_\{\}\\\|\[\]:=;'"><]+)$)^[\w~!`.@#$%^&*?\(\)\+\-\_\{\}\\\|\[\]:=;'"><]{8,}$/);s&&(this.newErrMsg=this.$t("personalCenter.enterPasswordErr")),this.surepassword&&this.isPswEquel();var e=this.isEquel();this.isNewErr=s||e,this.change()},isEquel:function(){return this.newpassword===this.password&&(this.isNewErr=!0,this.newErrMsg=this.$t("personalCenter.repeatPsw"),!0)},isPswEquel:function(){this.newpassword!==this.surepassword?this.isSureErr=!0:this.isSureErr=!1},reChange:function(){this.isPswEquel(),this.change()},cancleModalHandler:function(){this.$router.replace("/personalCenter")},change:function(){this.btn=!(!this.surepassword||!this.newpassword||!this.password||this.isSureErr||this.isNewErr||this.surepassword!==this.newpassword)},submit:function(){var s=this;this.loading=!0,this.isNewErr=!1,this.isErr=!1,this.$store.dispatch("personalCenter/changePasswrod",{oldPassword:Object(l.c)(this.password),newPassword:Object(l.c)(this.newpassword),reNewPassword:Object(l.c)(this.surepassword),type:this.$isPc?1:2}).then(function(){var e=function(){return s.$router.push("/login")};s.$Msg.show({type:"success",content:s.$t("personalCenter.changeSuccess"),onClose:e}),s.$isPc&&setTimeout(e,1e3)}).catch(function(e){switch(+e.code){case 2066:s.isNewErr=!0,s.newErrMsg=s.$t("personalCenter.enterPasswordErr");break;case 201:s.isErr=!0;break;case 3526:s.isNewErr=!0,s.newErrMsg=s.$t("personalCenter.repeatPsw")}}).finally(function(){s.loading=!1})}},render:function(s){var e=this;return s("div",[s(w.l,n()([{attrs:{visiable:!0,hasHeader:!0,onlyClose:!0},on:{cancleHandler:this.cancleModalHandler}},{on:i()({},this.$listeners),attrs:i()({},this.$attrs)}]),[s("div",{class:"modal-wrap"},[s("div",{class:" title modal-title"},[this.$t("personalCenter.changePassword")]),s(w.i,n()([{class:"input",attrs:{value:e.password},on:{input:function(s){e.password=s}}},{directives:[{name:"model",value:e.password}]},{attrs:{placeholder:this.$t("personalCenter.passwordInput"),isErr:this.isErr,errMsg:this.$t("personalCenter.passwordErr"),type:"password"},on:{"on-change":this.pswChange}}])),s(w.i,n()([{class:"input",attrs:{value:e.newpassword},on:{input:function(s){e.newpassword=s}}},{directives:[{name:"model",value:e.newpassword}]},{attrs:{placeholder:this.$t("personalCenter.newPasswordInput"),isErr:this.isNewErr,errMsg:this.newErrMsg,type:"password"},on:{"on-change":this.newPswChange}}])),s(w.i,n()([{attrs:{placeholder:this.$t("personalCenter.surePassword"),value:e.surepassword},class:"input",on:{input:function(s){e.surepassword=s}}},{directives:[{name:"model",value:e.surepassword}]},{attrs:{isErr:this.isSureErr,errMsg:this.$t("personalCenter.enterPasswordAgainErr"),type:"password"},on:{"on-change":this.reChange}}])),s(w.h,{attrs:{isShow:this.btn},class:"button",on:{click:this.submit}},[this.$t("personalCenter.submit")])])])])}});var p=r("VU/8")(h,null,!1,function(s){r("tvOa")},"data-v-c601413a",null);e.default=p.exports}});